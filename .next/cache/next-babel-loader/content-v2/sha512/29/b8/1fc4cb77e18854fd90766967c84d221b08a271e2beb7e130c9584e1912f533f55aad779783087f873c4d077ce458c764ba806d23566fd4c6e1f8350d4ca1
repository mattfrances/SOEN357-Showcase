{"ast":null,"code":"import firebase from \"../firebase/init\";\nconst db = firebase.firestore();\nexport const deleteTweet = tweetID => {\n  db.collection(\"tweets\").doc(tweetID).delete().then(() => console.log(\"Deleted Tweet\")).catch(e => console.log(e));\n  db.collection(\"likes\").where(\"tweetID\", \"==\", tweetID).get().then(tweetsSnapShot => {\n    const batch = firebase.firestore().batch();\n    tweetsSnapShot.forEach(tweetDocRef => {\n      batch.delete(tweetDocRef.ref);\n    });\n    batch.commit().then(console.log(\"Deleted Likes\")).catch(e => console.log(e));\n  });\n  db.collection(\"saves\").where(\"tweetID\", \"==\", tweetID).get().then(tweetsSnapShot => {\n    const batch = firebase.firestore().batch();\n    tweetsSnapShot.forEach(tweetDocRef => {\n      batch.delete(tweetDocRef.ref);\n    });\n    batch.commit().then(console.log(\"Deleted Saves\")).catch(e => console.log(e));\n  });\n};","map":{"version":3,"sources":["/Users/matthewfrances/Documents/development/School/Winter2021/SOEN357/twitter-clone/src/services/DeleteTweet.js"],"names":["firebase","db","firestore","deleteTweet","tweetID","collection","doc","delete","then","console","log","catch","e","where","get","tweetsSnapShot","batch","forEach","tweetDocRef","ref","commit"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,kBAArB;AAEA,MAAMC,EAAE,GAAGD,QAAQ,CAACE,SAAT,EAAX;AAEA,OAAO,MAAMC,WAAW,GAAIC,OAAD,IAAa;AACtCH,EAAAA,EAAE,CAACI,UAAH,CAAc,QAAd,EACGC,GADH,CACOF,OADP,EAEGG,MAFH,GAGGC,IAHH,CAGQ,MAAMC,OAAO,CAACC,GAAR,CAAY,eAAZ,CAHd,EAIGC,KAJH,CAIUC,CAAD,IAAOH,OAAO,CAACC,GAAR,CAAYE,CAAZ,CAJhB;AAMAX,EAAAA,EAAE,CAACI,UAAH,CAAc,OAAd,EACGQ,KADH,CACS,SADT,EACoB,IADpB,EAC0BT,OAD1B,EAEGU,GAFH,GAGGN,IAHH,CAGSO,cAAD,IAAoB;AACxB,UAAMC,KAAK,GAAGhB,QAAQ,CAACE,SAAT,GAAqBc,KAArB,EAAd;AACAD,IAAAA,cAAc,CAACE,OAAf,CAAwBC,WAAD,IAAiB;AACtCF,MAAAA,KAAK,CAACT,MAAN,CAAaW,WAAW,CAACC,GAAzB;AACD,KAFD;AAGAH,IAAAA,KAAK,CACFI,MADH,GAEGZ,IAFH,CAEQC,OAAO,CAACC,GAAR,CAAY,eAAZ,CAFR,EAGGC,KAHH,CAGUC,CAAD,IAAOH,OAAO,CAACC,GAAR,CAAYE,CAAZ,CAHhB;AAID,GAZH;AAcAX,EAAAA,EAAE,CAACI,UAAH,CAAc,OAAd,EACGQ,KADH,CACS,SADT,EACoB,IADpB,EAC0BT,OAD1B,EAEGU,GAFH,GAGGN,IAHH,CAGSO,cAAD,IAAoB;AACxB,UAAMC,KAAK,GAAGhB,QAAQ,CAACE,SAAT,GAAqBc,KAArB,EAAd;AACAD,IAAAA,cAAc,CAACE,OAAf,CAAwBC,WAAD,IAAiB;AACtCF,MAAAA,KAAK,CAACT,MAAN,CAAaW,WAAW,CAACC,GAAzB;AACD,KAFD;AAGAH,IAAAA,KAAK,CACFI,MADH,GAEGZ,IAFH,CAEQC,OAAO,CAACC,GAAR,CAAY,eAAZ,CAFR,EAGGC,KAHH,CAGUC,CAAD,IAAOH,OAAO,CAACC,GAAR,CAAYE,CAAZ,CAHhB;AAID,GAZH;AAaD,CAlCM","sourcesContent":["import firebase from \"../firebase/init\";\n\nconst db = firebase.firestore();\n\nexport const deleteTweet = (tweetID) => {\n  db.collection(\"tweets\")\n    .doc(tweetID)\n    .delete()\n    .then(() => console.log(\"Deleted Tweet\"))\n    .catch((e) => console.log(e));\n\n  db.collection(\"likes\")\n    .where(\"tweetID\", \"==\", tweetID)\n    .get()\n    .then((tweetsSnapShot) => {\n      const batch = firebase.firestore().batch();\n      tweetsSnapShot.forEach((tweetDocRef) => {\n        batch.delete(tweetDocRef.ref);\n      });\n      batch\n        .commit()\n        .then(console.log(\"Deleted Likes\"))\n        .catch((e) => console.log(e));\n    });\n\n  db.collection(\"saves\")\n    .where(\"tweetID\", \"==\", tweetID)\n    .get()\n    .then((tweetsSnapShot) => {\n      const batch = firebase.firestore().batch();\n      tweetsSnapShot.forEach((tweetDocRef) => {\n        batch.delete(tweetDocRef.ref);\n      });\n      batch\n        .commit()\n        .then(console.log(\"Deleted Saves\"))\n        .catch((e) => console.log(e));\n    });\n};\n"]},"metadata":{},"sourceType":"module"}