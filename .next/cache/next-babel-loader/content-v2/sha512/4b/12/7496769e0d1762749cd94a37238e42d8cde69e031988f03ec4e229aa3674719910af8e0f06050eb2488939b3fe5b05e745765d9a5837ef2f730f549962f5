{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/matthewfrances/Documents/development/School/Winter2021/SOEN357/twitter-clone/src/components/ProfileDropDown/ProfileDropDown.jsx\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport Link from \"next/link\";\nimport React, { useState } from \"react\";\nimport { handleSignOut } from \"../../services/Authentication\";\nimport { deleteAccount } from \"../../services/DeleteAccount\";\nimport Avatar from \"../Avatar/Avatar\";\n\nconst ProfileDropDown = ({\n  user\n}) => {\n  const {\n    0: dropdown,\n    1: setDropdown\n  } = useState(false);\n  const {\n    0: deletingAccount,\n    1: setDeletingAccount\n  } = useState(false);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row items-center mr-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative inline-block text-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"inline-flex justify-center w-full rounded-md border  shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 \",\n            id: \"options-menu\",\n            \"aria-haspopup\": \"true\",\n            \"aria-expanded\": \"true\",\n            onClick: () => setDropdown(!dropdown),\n            children: [user && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"w-8 h-8 overflow-hidden rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(Avatar, {\n                src: user.profilePicture\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 28,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 27,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden md:flex md:flex-col justify-center pl-2\",\n              children: user && user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"-mr-1 ml-2 w-5 flex flex-col justify-center\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              viewBox: \"0 0 20 20\",\n              fill: \"currentColor\",\n              \"aria-hidden\": \"true\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 40,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 19,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 11\n        }, this), dropdown && user && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"py-1\",\n            role: \"menu\",\n            \"aria-orientation\": \"vertical\",\n            \"aria-labelledby\": \"options-menu\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              href: `/${user.username}`,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900\",\n                role: \"menuitem\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"pr-4\",\n                  children: /*#__PURE__*/_jsxDEV(AccountCircleIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 61,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 21\n                }, this), \"My Profile\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: `block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 focus:outline-none focus:bg-gray-100 ${deletingAccount ? \"text-red-300 cursor-not-allowed\" : \"text-red-700\"} `,\n              role: \"menuitem\",\n              onClick: async e => {\n                if (!deletingAccount) {\n                  e.stopPropagation();\n                  const answer = confirm(`Are you sure you want to delete your account?\\nThis would delete your tweets,likes,saves`);\n\n                  if (answer) {\n                    setDeletingAccount(true);\n                    await deleteAccount(user.uid);\n                  }\n                }\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"pr-4\",\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                  htmlColor: \"#c53030\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 19\n              }, this), deletingAccount ? \"  Deleting Account...\" : \"Delete Account\", deletingAccount && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  position: \"absolute\",\n                  top: \"50%\",\n                  left: \"50%\",\n                  transform: \" translate(-50%, -50%)\"\n                },\n                children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"block w-full text-left px-4 py-2 text-sm text-red-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100\",\n              role: \"menuitem\",\n              onClick: () => handleSignOut(),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"pr-4\",\n                children: /*#__PURE__*/_jsxDEV(ExitToAppIcon, {\n                  htmlColor: \"#c53030\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this), \"Logout\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this);\n};\n\nexport default ProfileDropDown;","map":{"version":3,"sources":["/Users/matthewfrances/Documents/development/School/Winter2021/SOEN357/twitter-clone/src/components/ProfileDropDown/ProfileDropDown.jsx"],"names":["CircularProgress","AccountCircleIcon","DeleteIcon","ExitToAppIcon","Link","React","useState","handleSignOut","deleteAccount","Avatar","ProfileDropDown","user","dropdown","setDropdown","deletingAccount","setDeletingAccount","profilePicture","name","username","e","stopPropagation","answer","confirm","uid","position","top","left","transform"],"mappings":"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","sourcesContent":["import CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport Link from \"next/link\";\nimport React, { useState } from \"react\";\nimport { handleSignOut } from \"../../services/Authentication\";\nimport { deleteAccount } from \"../../services/DeleteAccount\";\nimport Avatar from \"../Avatar/Avatar\";\n\nconst ProfileDropDown = ({ user }) => {\n  const [dropdown, setDropdown] = useState(false);\n  const [deletingAccount, setDeletingAccount] = useState(false);\n  return (\n    <div>\n      <div className=\"flex flex-row items-center mr-4\">\n        <div className=\"relative inline-block text-left\">\n          <div>\n            <button\n              type=\"button\"\n              className=\"inline-flex justify-center w-full rounded-md border  shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 \"\n              id=\"options-menu\"\n              aria-haspopup=\"true\"\n              aria-expanded=\"true\"\n              onClick={() => setDropdown(!dropdown)}>\n              {user && (\n                <span className=\"w-8 h-8 overflow-hidden rounded-lg\">\n                  <Avatar src={user.profilePicture} />\n                </span>\n              )}\n              <span className=\"hidden md:flex md:flex-col justify-center pl-2\">\n                {user && user.name}\n              </span>\n              <svg\n                className=\"-mr-1 ml-2 w-5 flex flex-col justify-center\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 20 20\"\n                fill=\"currentColor\"\n                aria-hidden=\"true\">\n                <path\n                  fillRule=\"evenodd\"\n                  d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\"\n                  clipRule=\"evenodd\"\n                />\n              </svg>\n            </button>\n          </div>\n\n          {dropdown && user && (\n            <div className=\"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5\">\n              <div\n                className=\"py-1\"\n                role=\"menu\"\n                aria-orientation=\"vertical\"\n                aria-labelledby=\"options-menu\">\n                <Link href={`/${user.username}`}>\n                  <a\n                    className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900\"\n                    role=\"menuitem\">\n                    <span className=\"pr-4\">\n                      <AccountCircleIcon />\n                    </span>\n                    My Profile\n                  </a>\n                </Link>\n                <hr />\n                <button\n                  type=\"submit\"\n                  className={`block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 focus:outline-none focus:bg-gray-100 ${\n                    deletingAccount\n                      ? \"text-red-300 cursor-not-allowed\"\n                      : \"text-red-700\"\n                  } `}\n                  role=\"menuitem\"\n                  onClick={async (e) => {\n                    if (!deletingAccount) {\n                      e.stopPropagation();\n                      const answer = confirm(\n                        `Are you sure you want to delete your account?\\nThis would delete your tweets,likes,saves`\n                      );\n                      if (answer) {\n                        setDeletingAccount(true);\n                        await deleteAccount(user.uid);\n                      }\n                    }\n                  }}>\n                  <span className=\"pr-4\">\n                    <DeleteIcon htmlColor=\"#c53030\" />\n                  </span>\n                  {deletingAccount ? \"  Deleting Account...\" : \"Delete Account\"}\n                  {deletingAccount && (\n                    <span\n                      style={{\n                        position: \"absolute\",\n                        top: \"50%\",\n                        left: \"50%\",\n                        transform: \" translate(-50%, -50%)\",\n                      }}>\n                      <CircularProgress />\n                    </span>\n                  )}\n                </button>\n                <hr />\n                <button\n                  type=\"submit\"\n                  className=\"block w-full text-left px-4 py-2 text-sm text-red-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100\"\n                  role=\"menuitem\"\n                  onClick={() => handleSignOut()}>\n                  <span className=\"pr-4\">\n                    <ExitToAppIcon htmlColor=\"#c53030\" />\n                  </span>\n                  Logout\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileDropDown;\n"]},"metadata":{},"sourceType":"module"}