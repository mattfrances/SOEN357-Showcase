{"ast":null,"code":"import firebase from \"../firebase/init\";\nvar db = firebase.firestore();\nexport var deleteTweet = function deleteTweet(tweetID) {\n  db.collection(\"tweets\").doc(tweetID)[\"delete\"]().then(function () {\n    return console.log(\"Deleted Tweet\");\n  })[\"catch\"](function (e) {\n    return console.log(e);\n  });\n  db.collection(\"likes\").where(\"tweetID\", \"==\", tweetID).get().then(function (tweetsSnapShot) {\n    var batch = firebase.firestore().batch();\n    tweetsSnapShot.forEach(function (tweetDocRef) {\n      batch[\"delete\"](tweetDocRef.ref);\n    });\n    batch.commit().then(console.log(\"Deleted Likes\"))[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  });\n  db.collection(\"saves\").where(\"tweetID\", \"==\", tweetID).get().then(function (tweetsSnapShot) {\n    var batch = firebase.firestore().batch();\n    tweetsSnapShot.forEach(function (tweetDocRef) {\n      batch[\"delete\"](tweetDocRef.ref);\n    });\n    batch.commit().then(console.log(\"Deleted Saves\"))[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  });\n};","map":{"version":3,"sources":["/Users/matthewfrances/Documents/development/School/Winter2021/SOEN357/twitter-clone/src/services/DeleteTweet.js"],"names":["firebase","db","firestore","deleteTweet","tweetID","collection","doc","then","console","log","e","where","get","tweetsSnapShot","batch","forEach","tweetDocRef","ref","commit"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,kBAArB;AAEA,IAAMC,EAAE,GAAGD,QAAQ,CAACE,SAAT,EAAX;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,OAAD,EAAa;AACtCH,EAAAA,EAAE,CAACI,UAAH,CAAc,QAAd,EACGC,GADH,CACOF,OADP,cAGGG,IAHH,CAGQ;AAAA,WAAMC,OAAO,CAACC,GAAR,CAAY,eAAZ,CAAN;AAAA,GAHR,WAIS,UAACC,CAAD;AAAA,WAAOF,OAAO,CAACC,GAAR,CAAYC,CAAZ,CAAP;AAAA,GAJT;AAMAT,EAAAA,EAAE,CAACI,UAAH,CAAc,OAAd,EACGM,KADH,CACS,SADT,EACoB,IADpB,EAC0BP,OAD1B,EAEGQ,GAFH,GAGGL,IAHH,CAGQ,UAACM,cAAD,EAAoB;AACxB,QAAMC,KAAK,GAAGd,QAAQ,CAACE,SAAT,GAAqBY,KAArB,EAAd;AACAD,IAAAA,cAAc,CAACE,OAAf,CAAuB,UAACC,WAAD,EAAiB;AACtCF,MAAAA,KAAK,UAAL,CAAaE,WAAW,CAACC,GAAzB;AACD,KAFD;AAGAH,IAAAA,KAAK,CACFI,MADH,GAEGX,IAFH,CAEQC,OAAO,CAACC,GAAR,CAAY,eAAZ,CAFR,WAGS,UAACC,CAAD;AAAA,aAAOF,OAAO,CAACC,GAAR,CAAYC,CAAZ,CAAP;AAAA,KAHT;AAID,GAZH;AAcAT,EAAAA,EAAE,CAACI,UAAH,CAAc,OAAd,EACGM,KADH,CACS,SADT,EACoB,IADpB,EAC0BP,OAD1B,EAEGQ,GAFH,GAGGL,IAHH,CAGQ,UAACM,cAAD,EAAoB;AACxB,QAAMC,KAAK,GAAGd,QAAQ,CAACE,SAAT,GAAqBY,KAArB,EAAd;AACAD,IAAAA,cAAc,CAACE,OAAf,CAAuB,UAACC,WAAD,EAAiB;AACtCF,MAAAA,KAAK,UAAL,CAAaE,WAAW,CAACC,GAAzB;AACD,KAFD;AAGAH,IAAAA,KAAK,CACFI,MADH,GAEGX,IAFH,CAEQC,OAAO,CAACC,GAAR,CAAY,eAAZ,CAFR,WAGS,UAACC,CAAD;AAAA,aAAOF,OAAO,CAACC,GAAR,CAAYC,CAAZ,CAAP;AAAA,KAHT;AAID,GAZH;AAaD,CAlCM","sourcesContent":["import firebase from \"../firebase/init\";\n\nconst db = firebase.firestore();\n\nexport const deleteTweet = (tweetID) => {\n  db.collection(\"tweets\")\n    .doc(tweetID)\n    .delete()\n    .then(() => console.log(\"Deleted Tweet\"))\n    .catch((e) => console.log(e));\n\n  db.collection(\"likes\")\n    .where(\"tweetID\", \"==\", tweetID)\n    .get()\n    .then((tweetsSnapShot) => {\n      const batch = firebase.firestore().batch();\n      tweetsSnapShot.forEach((tweetDocRef) => {\n        batch.delete(tweetDocRef.ref);\n      });\n      batch\n        .commit()\n        .then(console.log(\"Deleted Likes\"))\n        .catch((e) => console.log(e));\n    });\n\n  db.collection(\"saves\")\n    .where(\"tweetID\", \"==\", tweetID)\n    .get()\n    .then((tweetsSnapShot) => {\n      const batch = firebase.firestore().batch();\n      tweetsSnapShot.forEach((tweetDocRef) => {\n        batch.delete(tweetDocRef.ref);\n      });\n      batch\n        .commit()\n        .then(console.log(\"Deleted Saves\"))\n        .catch((e) => console.log(e));\n    });\n};\n"]},"metadata":{},"sourceType":"module"}