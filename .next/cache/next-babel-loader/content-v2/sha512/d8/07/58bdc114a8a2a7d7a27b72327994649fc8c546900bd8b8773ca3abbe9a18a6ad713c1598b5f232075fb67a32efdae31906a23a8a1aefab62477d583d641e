{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/matthewfrances/Documents/development/School/Winter2021/SOEN357/twitter-clone/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matthewfrances/Documents/development/School/Winter2021/SOEN357/twitter-clone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/matthewfrances/Documents/development/School/Winter2021/SOEN357/twitter-clone/src/components/Post/Post.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\nimport BookmarkBorderIcon from \"@material-ui/icons/BookmarkBorder\";\nimport ChatBubbleOutlineIcon from \"@material-ui/icons/ChatBubbleOutline\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\nimport Link from \"next/link\";\nimport { useContext, useEffect, useState } from \"react\";\nimport UserContext from \"../../context/UserContext\";\nimport firebase from \"../../firebase/init\";\nimport { deleteTweet } from \"../../services/DeleteTweet\";\nimport { fetchTweetLikes, fetchTweetSaves } from \"../../services/FetchData\";\nimport Avatar from \"../Avatar/Avatar\";\n\nvar Post = function Post(_ref) {\n  _s();\n\n  var tweet = _ref.tweet;\n\n  var _useContext = useContext(UserContext),\n      user = _useContext.user;\n\n  var _useState = useState(tweet),\n      localTweet = _useState[0],\n      setLocalTweet = _useState[1];\n\n  var _useState2 = useState(0),\n      likes = _useState2[0],\n      setLikes = _useState2[1];\n\n  var _useState3 = useState(false),\n      isLiked = _useState3[0],\n      setIsLiked = _useState3[1];\n\n  var _useState4 = useState(\"\"),\n      likeDocID = _useState4[0],\n      setLikeDocID = _useState4[1];\n\n  var _useState5 = useState(0),\n      saves = _useState5[0],\n      setSaves = _useState5[1];\n\n  var _useState6 = useState(false),\n      isSaved = _useState6[0],\n      setIsSaved = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      saveDocID = _useState7[0],\n      setSaveDocID = _useState7[1];\n\n  var _useState8 = useState(0),\n      comments = _useState8[0],\n      setComments = _useState8[1];\n\n  var _useState9 = useState(false),\n      myTweet = _useState9[0],\n      setMyTweet = _useState9[1];\n\n  var likeTweet = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _yield$firebase$fires, id;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (user) {\n                _context.next = 3;\n                break;\n              }\n\n              alert(\"You need to sign in for that\");\n              return _context.abrupt(\"return\");\n\n            case 3:\n              _context.next = 5;\n              return firebase.firestore().collection(\"likes\").add({\n                userID: user.uid,\n                tweetID: tweet.id\n              });\n\n            case 5:\n              _yield$firebase$fires = _context.sent;\n              id = _yield$firebase$fires.id;\n              setLikes(function (prev) {\n                return prev + 1;\n              });\n              setLikeDocID(id);\n              setIsLiked(true);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function likeTweet() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var dislikeTweet = function dislikeTweet() {\n    if (!user) {\n      alert(\"You need to sign in for that\");\n      return;\n    }\n\n    firebase.firestore().collection(\"likes\").doc(likeDocID)[\"delete\"]();\n    setLikes(function (prev) {\n      return prev - 1;\n    });\n    setIsLiked(false);\n  };\n\n  var saveTweets = function saveTweets() {\n    if (!user) {\n      alert(\"You need to sign in for that\");\n      return;\n    }\n\n    var _firebase$firestore$c = firebase.firestore().collection(\"saves\").add({\n      tweetID: tweet.id,\n      userID: user.uid\n    }),\n        id = _firebase$firestore$c.id;\n\n    setSaves(function (prev) {\n      return prev + 1;\n    });\n    setSaveDocID(id);\n    setIsSaved(true);\n  };\n\n  var unsaveTweets = function unsaveTweets() {\n    if (!user) {\n      alert(\"You need to sign in for that\");\n      return;\n    }\n\n    firebase.firestore().collection(\"saves\").doc(saveDocID)[\"delete\"]();\n    setSaves(function (prev) {\n      return prev - 1;\n    });\n    setIsSaved(false);\n  };\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n    var checkForLikes, checkForSaves, getCommentsCount;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.t0 = setLikes;\n            _context5.next = 3;\n            return fetchTweetLikes(localTweet.id);\n\n          case 3:\n            _context5.t1 = _context5.sent.size;\n            (0, _context5.t0)(_context5.t1);\n\n            if (user) {\n              checkForLikes = /*#__PURE__*/function () {\n                var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n                  var docs;\n                  return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _context2.next = 2;\n                          return firebase.firestore().collection(\"likes\").where(\"userID\", \"==\", user.uid).where(\"tweetID\", \"==\", tweet.id).get();\n\n                        case 2:\n                          docs = _context2.sent;\n\n                          if (docs.size === 1) {\n                            setIsLiked(true);\n                            setLikeDocID(docs.docs[0].id);\n                          }\n\n                        case 4:\n                        case \"end\":\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2);\n                }));\n\n                return function checkForLikes() {\n                  return _ref4.apply(this, arguments);\n                };\n              }();\n\n              checkForSaves = /*#__PURE__*/function () {\n                var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n                  var docs;\n                  return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          _context3.next = 2;\n                          return firebase.firestore().collection(\"saves\").where(\"userID\", \"==\", user.uid).where(\"tweetID\", \"==\", tweet.id).get();\n\n                        case 2:\n                          docs = _context3.sent;\n\n                          if (docs.size === 1) {\n                            setIsSaved(true);\n                            setSaveDocID(docs.docs[0].id);\n                          }\n\n                        case 4:\n                        case \"end\":\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3);\n                }));\n\n                return function checkForSaves() {\n                  return _ref5.apply(this, arguments);\n                };\n              }();\n\n              getCommentsCount = /*#__PURE__*/function () {\n                var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n                  var res;\n                  return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                    while (1) {\n                      switch (_context4.prev = _context4.next) {\n                        case 0:\n                          _context4.next = 2;\n                          return firebase.firestore().collection(\"tweets\").where(\"parentTweet\", \"==\", tweet.id).get();\n\n                        case 2:\n                          res = _context4.sent;\n                          setComments(res.size);\n\n                        case 4:\n                        case \"end\":\n                          return _context4.stop();\n                      }\n                    }\n                  }, _callee4);\n                }));\n\n                return function getCommentsCount() {\n                  return _ref6.apply(this, arguments);\n                };\n              }();\n\n              checkForLikes();\n              checkForSaves();\n              getCommentsCount();\n\n              if (user.uid === tweet.author.uid) {\n                setMyTweet(true);\n              }\n            }\n\n            _context5.t2 = setSaves;\n            _context5.next = 9;\n            return fetchTweetSaves(localTweet.id);\n\n          case 9:\n            _context5.t3 = _context5.sent.size;\n            (0, _context5.t2)(_context5.t3);\n\n          case 11:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  })), []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-5 bg-white rounded-lg hover:bg-gray-100 cursor-pointer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center content-evenly\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-16 h-16 overflow-hidden rounded-lg m-4\",\n        children: /*#__PURE__*/_jsxDEV(Avatar, {\n          src: localTweet.author.profilePicture\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          href: \"/\".concat(tweet.author.username),\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-poppins font-medium text-base my-1 hover:underline\",\n            children: localTweet.author.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-poppins text-sm font-medium my-1 text-gray-700  \",\n          children: [\"@\", localTweet.author.username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-noto text-gray-500 text-base my-1\",\n          children: localTweet.createdAt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, _this), myTweet && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-16 h-16 flex flex-col justify-center items-center\",\n        onClick: function onClick(e) {\n          e.stopPropagation();\n          var answer = confirm(\"Are you sure you want to delete this tweet?\");\n\n          if (answer) {\n            deleteTweet(tweet.id);\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n          htmlColor: \"red\",\n          fontSize: \"medium\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"font-noto text-base font-normal pt-4\",\n        children: localTweet.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, _this), tweet.imgLink && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-5 overflow-hidden rounded-lg\",\n        style: {\n          height: \"350px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: localTweet.imgLink,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          onClick: function onClick(e) {\n            return e.stopPropagation();\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"w-full h-full object-cover\",\n            src: localTweet.imgLink,\n            alt: \"POST IMG HERE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, _this), tweet.gitHubURL && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 flex flex-row flex-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400\",\n          children: \"GitHub URL:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: tweet.gitHubURL\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 14\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, _this), tweet.tags && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"-mt-2 flex flex-row flex-wrap\",\n        children: tweet.tags.map(function (tag, index) {\n          return /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mr-2 mt-2 bg-green-300 px-3 py-2 rounded-full\\t\",\n            children: tag\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 45\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-row justify-end my-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mx-1 text-gray-500 font-noto font-medium\",\n          children: [comments, \" Comments\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mx-1 text-gray-500 font-noto font-medium\",\n          children: [likes, \" Likes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mx-1 text-gray-500 font-noto font-medium\",\n          children: [saves, \" Saved\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row my-2 items-stretch\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"flex-1 mx-4 font-noto font-medium rounded-lg hover:bg-gray-400 cursor-pointer py-6\",\n        type: \"submit\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"\",\n          children: /*#__PURE__*/_jsxDEV(ChatBubbleOutlineIcon, {\n            style: {\n              color: \"#828282\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"hidden lg:block\",\n          children: \"Comments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, _this), isLiked ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"flex-1 mx-4 font-noto font-medium text-red-600 rounded-lg hover:bg-gray-400 cursor-pointer py-6\",\n        type: \"submit\",\n        onClick: function onClick(e) {\n          e.stopPropagation();\n          dislikeTweet();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"\",\n          children: /*#__PURE__*/_jsxDEV(FavoriteIcon, {\n            style: {\n              color: \"#e53e3e\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"hidden lg:block\",\n          children: \"Liked\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }, _this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"flex-1 mx-4 font-noto font-medium rounded-lg hover:bg-gray-400 cursor-pointer py-6\",\n        type: \"submit\",\n        onClick: function onClick(e) {\n          e.stopPropagation();\n          likeTweet();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"\",\n          children: /*#__PURE__*/_jsxDEV(FavoriteBorderIcon, {\n            style: {\n              color: \"#828282\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"hidden lg:block\",\n          children: \"Likes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }, _this), isSaved ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"flex-1 mx-4 font-noto font-medium rounded-lg text-blue-600 hover:bg-gray-400 cursor-pointer py-6\",\n        type: \"submit\",\n        onClick: function onClick(e) {\n          e.stopPropagation();\n          unsaveTweets();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"\",\n          children: /*#__PURE__*/_jsxDEV(BookmarkIcon, {\n            style: {\n              color: \"#2D9CDB\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"hidden lg:block\",\n          children: \"Saved\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, _this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"flex-1 mx-4 font-noto font-medium rounded-lg hover:bg-gray-400 cursor-pointer py-6\",\n        type: \"submit\",\n        onClick: function onClick(e) {\n          e.stopPropagation();\n          saveTweets();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"\",\n          children: /*#__PURE__*/_jsxDEV(BookmarkBorderIcon, {\n            style: {\n              color: \"#828282\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"hidden lg:block\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Post, \"vWp7hKTvHyiyhb6hqJLuXIlaeI4=\");\n\n_c = Post;\nexport default Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["/Users/matthewfrances/Documents/development/School/Winter2021/SOEN357/twitter-clone/src/components/Post/Post.jsx"],"names":["BookmarkIcon","BookmarkBorderIcon","ChatBubbleOutlineIcon","DeleteIcon","FavoriteIcon","FavoriteBorderIcon","Link","useContext","useEffect","useState","UserContext","firebase","deleteTweet","fetchTweetLikes","fetchTweetSaves","Avatar","Post","tweet","user","localTweet","setLocalTweet","likes","setLikes","isLiked","setIsLiked","likeDocID","setLikeDocID","saves","setSaves","isSaved","setIsSaved","saveDocID","setSaveDocID","comments","setComments","myTweet","setMyTweet","likeTweet","alert","firestore","collection","add","userID","uid","tweetID","id","prev","dislikeTweet","doc","saveTweets","unsaveTweets","size","checkForLikes","where","get","docs","checkForSaves","getCommentsCount","res","author","profilePicture","username","name","createdAt","e","stopPropagation","answer","confirm","text","imgLink","height","gitHubURL","tags","map","tag","index","color"],"mappings":"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","sourcesContent":["import BookmarkIcon from \"@material-ui/icons/Bookmark\";\nimport BookmarkBorderIcon from \"@material-ui/icons/BookmarkBorder\";\nimport ChatBubbleOutlineIcon from \"@material-ui/icons/ChatBubbleOutline\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\nimport Link from \"next/link\";\nimport { useContext, useEffect, useState } from \"react\";\nimport UserContext from \"../../context/UserContext\";\nimport firebase from \"../../firebase/init\";\nimport { deleteTweet } from \"../../services/DeleteTweet\";\nimport { fetchTweetLikes, fetchTweetSaves } from \"../../services/FetchData\";\nimport Avatar from \"../Avatar/Avatar\";\n\nconst Post = ({ tweet }) => {\n  const { user } = useContext(UserContext);\n  const [localTweet, setLocalTweet] = useState(tweet);\n\n  const [likes, setLikes] = useState(0);\n  const [isLiked, setIsLiked] = useState(false);\n  const [likeDocID, setLikeDocID] = useState(\"\");\n\n  const [saves, setSaves] = useState(0);\n  const [isSaved, setIsSaved] = useState(false);\n  const [saveDocID, setSaveDocID] = useState(\"\");\n\n  const [comments, setComments] = useState(0);\n\n  const [myTweet, setMyTweet] = useState(false);\n\n  const likeTweet = async () => {\n    if (!user) {\n      alert(\"You need to sign in for that\");\n      return;\n    }\n    const { id } = await firebase.firestore().collection(\"likes\").add({\n      userID: user.uid,\n      tweetID: tweet.id,\n    });\n    setLikes((prev) => prev + 1);\n    setLikeDocID(id);\n    setIsLiked(true);\n  };\n\n  const dislikeTweet = () => {\n    if (!user) {\n      alert(\"You need to sign in for that\");\n      return;\n    }\n    firebase.firestore().collection(\"likes\").doc(likeDocID).delete();\n    setLikes((prev) => prev - 1);\n    setIsLiked(false);\n  };\n\n  const saveTweets = () => {\n    if (!user) {\n      alert(\"You need to sign in for that\");\n      return;\n    }\n    const { id } = firebase.firestore().collection(\"saves\").add({\n      tweetID: tweet.id,\n      userID: user.uid,\n    });\n    setSaves((prev) => prev + 1);\n    setSaveDocID(id);\n    setIsSaved(true);\n  };\n\n  const unsaveTweets = () => {\n    if (!user) {\n      alert(\"You need to sign in for that\");\n      return;\n    }\n    firebase.firestore().collection(\"saves\").doc(saveDocID).delete();\n    setSaves((prev) => prev - 1);\n    setIsSaved(false);\n  };\n\n  useEffect(async () => {\n    setLikes((await fetchTweetLikes(localTweet.id)).size);\n    if (user) {\n      async function checkForLikes() {\n        const docs = await firebase\n          .firestore()\n          .collection(\"likes\")\n          .where(\"userID\", \"==\", user.uid)\n          .where(\"tweetID\", \"==\", tweet.id)\n          .get();\n        if (docs.size === 1) {\n          setIsLiked(true);\n          setLikeDocID(docs.docs[0].id);\n        }\n      }\n      checkForLikes();\n\n      async function checkForSaves() {\n        const docs = await firebase\n          .firestore()\n          .collection(\"saves\")\n          .where(\"userID\", \"==\", user.uid)\n          .where(\"tweetID\", \"==\", tweet.id)\n          .get();\n        if (docs.size === 1) {\n          setIsSaved(true);\n          setSaveDocID(docs.docs[0].id);\n        }\n      }\n      checkForSaves();\n\n      async function getCommentsCount() {\n        const res = await firebase\n          .firestore()\n          .collection(\"tweets\")\n          .where(\"parentTweet\", \"==\", tweet.id)\n          .get();\n        setComments(res.size);\n      }\n      getCommentsCount();\n      if (user.uid === tweet.author.uid) {\n        setMyTweet(true);\n      }\n    }\n    setSaves((await fetchTweetSaves(localTweet.id)).size);\n  }, []);\n\n  return (\n    <div className=\"p-5 bg-white rounded-lg hover:bg-gray-100 cursor-pointer\">\n      <div className=\"flex items-center content-evenly\">\n        <div className=\"w-16 h-16 overflow-hidden rounded-lg m-4\">\n          <Avatar src={localTweet.author.profilePicture} />\n        </div>\n        <div className=\"w-full\">\n          <Link href={`/${tweet.author.username}`}>\n            <p className=\"font-poppins font-medium text-base my-1 hover:underline\">\n              {localTweet.author.name}\n            </p>\n          </Link>\n          <p className=\"font-poppins text-sm font-medium my-1 text-gray-700  \">\n            @{localTweet.author.username}\n          </p>\n          <p className=\"font-noto text-gray-500 text-base my-1\">\n            {localTweet.createdAt}\n          </p>\n        </div>\n        {myTweet && (\n          <div\n            className=\"w-16 h-16 flex flex-col justify-center items-center\"\n            onClick={(e) => {\n              e.stopPropagation();\n              const answer = confirm(\n                \"Are you sure you want to delete this tweet?\"\n              );\n              if (answer) {\n                deleteTweet(tweet.id);\n              }\n            }}>\n            <DeleteIcon htmlColor={\"red\"} fontSize=\"medium\" />\n          </div>\n        )}\n      </div>\n      <span>\n        <div className=\"font-noto text-base font-normal pt-4\">\n          {localTweet.text}\n        </div>\n        {tweet.imgLink && (\n          <div\n            className=\"my-5 overflow-hidden rounded-lg\"\n            style={{\n              height: \"350px\",\n            }}>\n            <a\n              href={localTweet.imgLink}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              onClick={(e) => e.stopPropagation()}>\n              <img\n                className=\"w-full h-full object-cover\"\n                src={localTweet.imgLink}\n                alt=\"POST IMG HERE\"\n              />\n            </a>\n          </div>\n        )}\n        {tweet.gitHubURL && (\n          <div className=\"mt-2 flex flex-row flex-wrap\">\n            <p className=\"text-gray-400\">GitHub URL:</p>\n            {<p>{tweet.gitHubURL}</p>}\n          </div>\n        )}\n        {tweet.tags && (\n          <div className=\"-mt-2 flex flex-row flex-wrap\">\n            {tweet.tags.map((tag, index) => <p key={index} className=\"mr-2 mt-2 bg-green-300 px-3 py-2 rounded-full\t\">{tag}</p>)}\n          </div>\n        )}\n        <div className=\"flex flex-row justify-end my-5\">\n          <p className=\"mx-1 text-gray-500 font-noto font-medium\">\n            {comments} Comments\n          </p>\n          <p className=\"mx-1 text-gray-500 font-noto font-medium\">\n            {likes} Likes\n          </p>\n          <p className=\"mx-1 text-gray-500 font-noto font-medium\">\n            {saves} Saved\n          </p>\n        </div>\n      </span>\n      <hr />\n      <div className=\"flex flex-row my-2 items-stretch\">\n        <button\n          className=\"flex-1 mx-4 font-noto font-medium rounded-lg hover:bg-gray-400 cursor-pointer py-6\"\n          type=\"submit\">\n          <span className=\"\">\n            <ChatBubbleOutlineIcon style={{ color: \"#828282\" }} />\n          </span>\n          <span className=\"hidden lg:block\">Comments</span>\n        </button>\n        {isLiked ? (\n          <button\n            className=\"flex-1 mx-4 font-noto font-medium text-red-600 rounded-lg hover:bg-gray-400 cursor-pointer py-6\"\n            type=\"submit\"\n            onClick={(e) => {\n              e.stopPropagation();\n              dislikeTweet();\n            }}>\n            <span className=\"\">\n              <FavoriteIcon style={{ color: \"#e53e3e\" }} />\n            </span>\n            <span className=\"hidden lg:block\">Liked</span>\n          </button>\n        ) : (\n          <button\n            className=\"flex-1 mx-4 font-noto font-medium rounded-lg hover:bg-gray-400 cursor-pointer py-6\"\n            type=\"submit\"\n            onClick={(e) => {\n              e.stopPropagation();\n              likeTweet();\n            }}>\n            <span className=\"\">\n              <FavoriteBorderIcon style={{ color: \"#828282\" }} />\n            </span>\n            <span className=\"hidden lg:block\">Likes</span>\n          </button>\n        )}\n        {isSaved ? (\n          <button\n            className=\"flex-1 mx-4 font-noto font-medium rounded-lg text-blue-600 hover:bg-gray-400 cursor-pointer py-6\"\n            type=\"submit\"\n            onClick={(e) => {\n              e.stopPropagation();\n              unsaveTweets();\n            }}>\n            <span className=\"\">\n              <BookmarkIcon style={{ color: \"#2D9CDB\" }} />\n            </span>\n            <span className=\"hidden lg:block\">Saved</span>\n          </button>\n        ) : (\n          <button\n            className=\"flex-1 mx-4 font-noto font-medium rounded-lg hover:bg-gray-400 cursor-pointer py-6\"\n            type=\"submit\"\n            onClick={(e) => {\n              e.stopPropagation();\n              saveTweets();\n            }}>\n            <span className=\"\">\n              <BookmarkBorderIcon style={{ color: \"#828282\" }} />\n            </span>\n            <span className=\"hidden lg:block\">Save</span>\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n"]},"metadata":{},"sourceType":"module"}