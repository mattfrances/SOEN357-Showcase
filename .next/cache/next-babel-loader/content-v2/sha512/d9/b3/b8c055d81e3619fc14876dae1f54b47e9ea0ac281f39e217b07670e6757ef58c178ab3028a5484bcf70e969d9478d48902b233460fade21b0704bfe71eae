{"ast":null,"code":"import _regeneratorRuntime from \"/Users/matthewfrances/Documents/development/School/Winter2021/SOEN357/twitter-clone/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matthewfrances/Documents/development/School/Winter2021/SOEN357/twitter-clone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/matthewfrances/Documents/development/School/Winter2021/SOEN357/twitter-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { fetchUser, fetchUserFollowings } from \"../services/FetchData\";\nexport function useFollowings(userId) {\n  _s();\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      followings = _React$useState2[0],\n      setFollowings = _React$useState2[1];\n\n  var _React$useState3 = React.useState(true),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isFollowingsLoading = _React$useState4[0],\n      setIsFollowingsLoading = _React$useState4[1];\n\n  var getFollowings = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var data, followersSnapShot, i;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              data = [];\n              setIsFollowingsLoading(true);\n              _context.next = 4;\n              return fetchUserFollowings(userId);\n\n            case 4:\n              followersSnapShot = _context.sent;\n              i = 0;\n\n            case 6:\n              if (!(i < followersSnapShot.size)) {\n                _context.next = 15;\n                break;\n              }\n\n              _context.t0 = data;\n              _context.next = 10;\n              return fetchUser({\n                userID: followersSnapShot.docs[i].data().followeeID\n              });\n\n            case 10:\n              _context.t1 = _context.sent;\n\n              _context.t0.push.call(_context.t0, _context.t1);\n\n            case 12:\n              i++;\n              _context.next = 6;\n              break;\n\n            case 15:\n              setFollowings(data);\n              setIsFollowingsLoading(false);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getFollowings() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return {\n    followings: followings,\n    isFollowingsLoading: isFollowingsLoading,\n    getFollowings: getFollowings\n  };\n}\n\n_s(useFollowings, \"tItMaQb7Z6nmmsYfzyRdZeasq1k=\");","map":{"version":3,"sources":["/Users/matthewfrances/Documents/development/School/Winter2021/SOEN357/twitter-clone/src/hooks/useFollowings.js"],"names":["React","fetchUser","fetchUserFollowings","useFollowings","userId","useState","followings","setFollowings","isFollowingsLoading","setIsFollowingsLoading","getFollowings","data","followersSnapShot","i","size","userID","docs","followeeID","push"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,mBAApB,QAA+C,uBAA/C;AAEA,OAAO,SAASC,aAAT,CAAuBC,MAAvB,EAA+B;AAAA;;AAAA,wBACAJ,KAAK,CAACK,QAAN,CAAe,EAAf,CADA;AAAA;AAAA,MAC7BC,UAD6B;AAAA,MACjBC,aADiB;;AAAA,yBAEkBP,KAAK,CAACK,QAAN,CAAe,IAAf,CAFlB;AAAA;AAAA,MAE7BG,mBAF6B;AAAA,MAERC,sBAFQ;;AAIpC,MAAMC,aAAa;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACdC,cAAAA,IADc,GACP,EADO;AAEpBF,cAAAA,sBAAsB,CAAC,IAAD,CAAtB;AAFoB;AAAA,qBAGYP,mBAAmB,CAACE,MAAD,CAH/B;;AAAA;AAGdQ,cAAAA,iBAHc;AAIXC,cAAAA,CAJW,GAIP,CAJO;;AAAA;AAAA,oBAIJA,CAAC,GAAGD,iBAAiB,CAACE,IAJlB;AAAA;AAAA;AAAA;;AAAA,4BAKlBH,IALkB;AAAA;AAAA,qBAMVV,SAAS,CAAC;AACdc,gBAAAA,MAAM,EAAEH,iBAAiB,CAACI,IAAlB,CAAuBH,CAAvB,EAA0BF,IAA1B,GAAiCM;AAD3B,eAAD,CANC;;AAAA;AAAA;;AAAA,0BAKbC,IALa;;AAAA;AAIwBL,cAAAA,CAAC,EAJzB;AAAA;AAAA;;AAAA;AAWpBN,cAAAA,aAAa,CAACI,IAAD,CAAb;AACAF,cAAAA,sBAAsB,CAAC,KAAD,CAAtB;;AAZoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAbC,aAAa;AAAA;AAAA;AAAA,KAAnB;;AAeA,SAAO;AAAEJ,IAAAA,UAAU,EAAVA,UAAF;AAAcE,IAAAA,mBAAmB,EAAnBA,mBAAd;AAAmCE,IAAAA,aAAa,EAAbA;AAAnC,GAAP;AACD;;GApBeP,a","sourcesContent":["import React from \"react\";\nimport { fetchUser, fetchUserFollowings } from \"../services/FetchData\";\n\nexport function useFollowings(userId) {\n  const [followings, setFollowings] = React.useState([]);\n  const [isFollowingsLoading, setIsFollowingsLoading] = React.useState(true);\n\n  const getFollowings = async () => {\n    const data = [];\n    setIsFollowingsLoading(true);\n    const followersSnapShot = await fetchUserFollowings(userId);\n    for (let i = 0; i < followersSnapShot.size; i++) {\n      data.push(\n        await fetchUser({\n          userID: followersSnapShot.docs[i].data().followeeID,\n        })\n      );\n    }\n    setFollowings(data);\n    setIsFollowingsLoading(false);\n  };\n\n  return { followings, isFollowingsLoading, getFollowings };\n}\n"]},"metadata":{},"sourceType":"module"}